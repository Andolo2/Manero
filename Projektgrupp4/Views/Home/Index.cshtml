@{
    ViewData["Title"] = "Home Page";
    var products = await productService.GetAllProductsAsync();

    // Used to display a certain number of products
    int productCountBestSellers = 0; // Initialize a counter
    int productFeatured = 0; // Initialize a counter
}

<partial name="/Views/Partials/HeaderPartial/_Header.cshtml" />

<div class="_13Home">
    <!-- Showcase section. Welcome To Manero! -->
    <section class="showcase">
        <h1>
            <a asp-action="Offer50" asp-controller="Product">
                Welcome To <br>
                Manero! <br>
                50% off

            </a>
            
        </h1>
    </section>

    <!-- Best sellers section -->
    <section class="cardSection">
        <div class="container">
            <div class="top">
                <h2>Best Sellers</h2>
                <a asp-action="BestSellers" asp-controller="Product">view all <i class="fa-solid fa-chevron-right"></i></a>
            </div>

            <div class="cardGrid">
                <div class="cards">
                    <!-- Card -->
                    @foreach (var product in products)
                    {
                        if (product != null)
                        {
                            <a asp-controller="ProductDetail" asp-action="ProductDetail" asp-route-ArticleNumber="@product.ArticleNumber" class="card">
                                <img class="productImage" src="/images/productImage.svg" alt="Image of product">
                                <div class="text">
                                    <p class="ProductRating">
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-light fa-star"></i>
                                        <i class="fa-light fa-star"></i>
                                        (3)
                                    </p>
                                    <h2 class="productTitle">@product.ProductTitle</h2>
                                    <div class="prices">
                                        <p class="productPrice">$@product.ProductPrice</p>
                                        <p class="productPrice oldPrice d-none">$@product.ProductPrice</p>
                                        <p class="productOfferPrice d-none">$@product.ProductOfferPrice</p>
                                    </div>
                                </div>
                            </a>

                            @* To display a certain number of products. Max 4 pcs. Start -->*@

                            productCountBestSellers++; // Increments the productCounter.

                            if (productCountBestSellers >= 4) // Break out of the loop after showing 4 products.
                            {
                                break;
                            }
                            @* <-- End. *@
                        }
                    }
                </div>
            </div>
        </div>
    </section>

    <!-- Take 50% off now! -->
    <section class="take5OfNow">
        <div class="container">
            <h1>Take 50% off now!</h1>
            <a asp-action="Offer50" asp-controller="Product" class="buttonWhite">SHOP NOW</a>
        </div>
    </section>

    <!-- Featured products section -->
    <section class="cardSection">
        <div class="container">
            <div class="top">
                <h2>Featured Products</h2>
                <a asp-action="FeaturedProducts" asp-controller="Product">view all <i class="fa-solid fa-chevron-right"></i></a>
            </div>

            <div class="cardGrid">
                <div class="cards">
                    <!-- Card -->
                    @foreach (var product in products)
                    {
                        if (product != null)
                        {
                            <a asp-controller="ProductDetail" asp-action="ProductDetail" asp-route-ArticleNumber="@product.ArticleNumber" class="card">
                                <img class="productImage" src="/images/productImage.svg" alt="Image of product">
                                <div class="text">
                                    <p class="ProductRating">
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-light fa-star"></i>
                                        <i class="fa-light fa-star"></i>
                                        (3)
                                    </p>
                                    <h2 class="productTitle">@product.ProductTitle</h2>
                                    <div class="prices">
                                        <p class="productPrice">$@product.ProductPrice</p>
                                        <p class="productPrice oldPrice d-none">$@product.ProductPrice</p>
                                        <p class="productOfferPrice d-none">$@product.ProductOfferPrice</p>
                                    </div>
                                </div>
                            </a>

                            @* To display a certain number of products. Max 4 pcs. Start -->*@

                            productFeatured++; // Increments the productCounter.

                            if (productFeatured >= 4) // Break out of the loop after showing 4 products.
                            {
                                break;
                            }

                            @* <-- End. *@
                        }
                    }
                </div>
            </div>
        </div>
    </section>
</div>

@* Footer *@
<partial name="/Views/Partials/FooterPartial/_footerPartial.cshtml" />